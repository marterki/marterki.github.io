import{d as x,r as p,H as S,i as g,c as _,o as i,e as c,F as w,j as T,D as F,m as r,t as H,g as N,G as I,O as R,f as u,P as E,Q as L,w as y,K as V,E as b,S as M,_ as j,R as z}from"./BCpZBbE-.js";import{_ as A}from"./CgoW6Wn3.js";import{p as k}from"./CheHJh2V.js";import{p as D}from"./D7O167BQ.js";const G={class:"container-fluid page-pt section-mb-xs"},K=["innerHTML"],O={class:"d-flex flex-row flex-wrap justify-content-center"},Q=["onClick"],U=x({__name:"CategoriesFilterBar",props:{visibleCategories:{},modelValue:{}},emits:["update:modelValue"],setup(v,{emit:d}){const a=v,t=p(a.modelValue),o=S(()=>{var e;return(e=t.value)==null?void 0:e.id});function m(e){t.value=e,setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}const n=d;return g(()=>t.value,()=>{n("update:modelValue",t.value)}),g(()=>a.modelValue,()=>{var e;o.value!=((e=a.modelValue)==null?void 0:e.id)&&(t.value=a.modelValue)},{immediate:!0}),(e,s)=>(i(),_("div",G,[c("h1",{class:"heading-mb text-center",innerHTML:e.$t("shop.heading")},null,8,K),c("ul",O,[(i(!0),_(w,null,T(e.visibleCategories,l=>(i(),_("li",{key:l.id,class:"category-item"},[c("button",{class:F({active:r(o)!=null&&r(o)==l.id}),onClick:f=>m(l)},H(l.localizedName()),11,Q)]))),128))])]))}}),q=N(U,[["__scopeId","data-v-a6b5453c"]]),J={class:"wrapper"},W={class:"main"},X=x({__name:"shop",setup(v){const d=I(),a=p(!R.hasConsentedToCookies()),t=D.getAllVisibleProducts(),o=k.getAllVisibleCategories().filter(e=>t.some(s=>s.productCategoryId==e.id)),m=k.getCategoryByName(d.currentRoute.value.params.category)??o[0],n=p(m);return g(()=>n.value,(e,s)=>{e.id!==s.id&&d.push({name:"shop-category",params:{category:e.nameEng}})}),(e,s)=>{const l=E,f=q,C=j,B=z,P=A;return i(),_(w,null,[u(l),c("div",J,[c("div",W,[u(C,null,{default:y(()=>{var h;return[(h=r(o))!=null&&h.length?(i(),V(f,{key:0,"visible-categories":r(o),modelValue:r(n),"onUpdate:modelValue":s[0]||(s[0]=$=>M(n)?n.value=$:null)},null,8,["visible-categories","modelValue"])):b("",!0)]}),_:1}),L(e.$slots,"default",{},void 0)]),u(B),u(C,null,{default:y(()=>[r(a)?(i(),V(P,{key:0})):b("",!0)]),_:1})])],64)}}}),oe=N(X,[["__scopeId","data-v-f445952d"]]);export{oe as default};
