import{A as C,V as S,ae as w,r as m,W as $,af as E,a5 as L,m as k,S as D,ag as N,Y as T,T as q,Z as F,ah as H,G as j,H as A,n as h,o as v,g as x,w as g,b as y,c as b,q as I,F as V,k as P,a as M,ai as R,t as z,_ as G,K,L as U,D as W,j as Y,h as Z}from"./KaTgO7Az.js";import{p as B}from"./DJYHmUVP.js";import{_ as J}from"./B84oTOhq.js";import{p as O}from"./HI4jlLGE.js";import{C as Q}from"./G_CTseCk.js";import"./BLz4Pe-s.js";const X={inline:{type:Boolean},unstyled:{type:Boolean}};function ee(e){return{class:C(()=>({"list-unstyled":e.unstyled,"list-inline":e.inline}))}}function te(e,r){const t=S(e,r),s=C(()=>w(`expose_${t.value}`));function n(i,a){s.value.emit(i,a)}return{emit:n}}const se={spy:{type:String}};function oe(e,r,t){if(!e.spy)return{};const s=m([]),{exposeState:n,expose:i}=$(e,t,"spy"),{emit:a}=te(e,t),c=m(""),o=E(()=>{if(s.value.length==0||!e.spy)return;const u=s.value.map(_=>`#${_}[data-bv-spy-visible='true']`).join(","),f=L(t),p=f==null?void 0:f.querySelector(u);p?(c.value=p.id,a("current",p.id),r.emit("currentChanged",p.id)):c.value=""},100),d=i({refresh:o,registerItem:async u=>{s.value.push(u)}});return n({spy:m(e.spy)}),{method:d,attr:C(()=>({"data-debug-spy-current":c.value}))}}const ne=k({name:"HtmlList",props:{...D,...X,...N,...T,...se,tag:{type:String,default:"ul"}},setup(e,r){const t=m(),s=q(e),n=ee(e),i=F(e,"list"),a=H(e,r,t,"list"),c=oe(e,r,t),o={ref:t};return()=>j(e.tag,A(i,n,s,a,c,o),r.slots)}}),ae=["onClick"],re=k({__name:"CategoriesFilterBar",props:{visibleCategories:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:r}){const t=e,s=m(t.modelValue);function n(a){s.value=a==null?void 0:a.id,setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}const i=r;return h(()=>s.value,()=>{i("update:modelValue",s.value)}),h(()=>t.modelValue,()=>{s.value!=t.modelValue&&(s.value=t.modelValue)},{immediate:!0}),(a,c)=>{const o=J,l=ne,d=P;return v(),x(d,{type:"fluid",class:"section-mb-xs page-pt"},{default:g(()=>[y(o,{class:"heading-mb text-center",innerHTML:a.$t("shop.heading")},null,8,["innerHTML"]),y(l,{flex:"","flex-direction":"row","justify-content":"center",class:"flex-wrap"},{default:g(()=>[(v(!0),b(V,null,I(a.visibleCategories,u=>(v(),b("li",{key:u.id,class:"category-item"},[M("button",{class:R({active:s.value!=null&&s.value==u.id}),onClick:f=>n(u)},z(u.localizedName()),11,ae)]))),128))]),_:1})]),_:1})}}}),le=G(re,[["__scopeId","data-v-23baa13d"]]),_e=k({__name:"products",setup(e){const r=K(),t=m([]),s=m([]),n=m(void 0),i=C(()=>{const o=t.value.find(l=>l.id==n.value);return o==null?void 0:o.nameEng}),a=C(()=>n.value==null?s.value:s.value.filter(o=>o.productCategoryId==n.value));U(()=>{s.value=O.getAllVisibleProducts(),t.value=B.getAllVisibleCategories().filter(o=>s.value.some(l=>l.productCategoryId==o.id)),n.value=c()});function c(){var l,d;const o=r.currentRoute.value.query;return o.category?(l=B.getCategoryByName(String(o.category)))==null?void 0:l.id:(d=t.value[0])==null?void 0:d.id}return h(()=>n.value,async()=>{await r.replace({query:{category:i.value}})}),(o,l)=>{var p;const d=Z,u=Y,f=P;return v(),b(V,null,[(p=t.value)!=null&&p.length?(v(),x(le,{key:0,"visible-categories":t.value,modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=_=>n.value=_)},null,8,["visible-categories","modelValue"])):W("",!0),y(f,{type:"fluid",class:"section-mb"},{default:g(()=>[y(u,{gutter:"1"},{default:g(()=>[(v(!0),b(V,null,I(a.value,_=>(v(),x(d,{col:"6 xl-4",key:_.id,id:`product-${_.id}`},{default:g(()=>[y(Q,{product:_},null,8,["product"])]),_:2},1032,["id"]))),128))]),_:1})]),_:1})],64)}}});export{_e as default};
