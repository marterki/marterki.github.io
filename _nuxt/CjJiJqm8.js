import{d as V,r as g,A as $,K as v,c as _,o as i,a as c,F as k,v as F,x as T,q as l,t as H,_ as w,M as I,H as M,g as u,P as R,Q as S,w as h,D as y,y as b,U as A,h as L,R as j}from"./BKfao8Zc.js";import{_ as z}from"./BRdPH4FE.js";import{p as x}from"./cUih4tss.js";import{p as D}from"./N8Njx1eh.js";const E={class:"container-fluid page-pt section-mb-xs"},U=["innerHTML"],q={class:"d-flex flex-row flex-wrap justify-content-center"},K=["onClick"],O=V({__name:"CategoriesFilterBar",props:{visibleCategories:{},modelValue:{}},emits:["update:modelValue"],setup(m,{emit:d}){const a=m,t=g(a.modelValue),o=$(()=>t.value?.id);function p(e){t.value=e,setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}const n=d;return v(()=>t.value,()=>{n("update:modelValue",t.value)}),v(()=>a.modelValue,()=>{o.value!=a.modelValue?.id&&(t.value=a.modelValue)},{immediate:!0}),(e,s)=>(i(),_("div",E,[c("h1",{class:"heading-mb text-center",innerHTML:e.$t("shop.heading")},null,8,U),c("ul",q,[(i(!0),_(k,null,F(m.visibleCategories,r=>(i(),_("li",{key:r.id,class:"category-item"},[c("button",{class:T({active:l(o)!=null&&l(o)==r.id}),onClick:f=>p(r)},H(r.localizedName()),11,K)]))),128))])]))}}),Q=Object.assign(w(O,[["__scopeId","data-v-a6b5453c"]]),{__name:"CategoriesFilterBar"}),G={class:"wrapper"},J={class:"main"},W=V({__name:"shop",setup(m){const d=I(),a=g(!M.hasConsentedToCookies()),t=D.getAllVisibleProducts(),o=x.getAllVisibleCategories().filter(e=>t.some(s=>s.productCategoryId==e.id)),p=x.getCategoryByName(d.currentRoute.value.params.category)??o[0],n=g(p);return v(()=>n.value,(e,s)=>{e.id!==s.id&&d.push({name:"shop-category",params:{category:e.nameEng}})}),(e,s)=>{const r=R,f=Q,C=L,B=j,N=z;return i(),_(k,null,[u(r),c("div",G,[c("div",J,[u(C,null,{default:h(()=>[l(o)?.length?(i(),y(f,{key:0,"visible-categories":l(o),modelValue:l(n),"onUpdate:modelValue":s[0]||(s[0]=P=>A(n)?n.value=P:null)},null,8,["visible-categories","modelValue"])):b("",!0)]),_:1}),S(e.$slots,"default",{},void 0)]),u(B),u(C,null,{default:h(()=>[l(a)?(i(),y(N,{key:0})):b("",!0)]),_:1})])],64)}}}),te=w(W,[["__scopeId","data-v-f445952d"]]);export{te as default};
