import{_ as P}from"./CtNiDQv2.js";import{d as $,G as w,u as B,H as i,r as E,a as f,b as v,z as V,i as k,c as l,e as C,E as z,F as R,j,o as u,f as h,w as S,_ as T}from"./BCpZBbE-.js";import{p as a}from"./CheHJh2V.js";import{p as A}from"./D7O167BQ.js";const F={class:"container-fluid section-mb"},G={class:"row g-2 justify-content-center"},H=["id"],q=$({__name:"products",setup(M){const r=w(),{t:d}=B(),s=A.getAllVisibleProducts(),g=a.getAllVisibleCategories().filter(e=>s.some(o=>o.productCategoryId==e.id)),N=[];for(const e of s)e.isGiftCard()||e.id>=80&&e.id<90||N.push(`/shop/${e.nameEng}`);g.map(e=>`/shop/category/${e.nameEng}`);const b=i(()=>{const e=r.currentRoute.value.params.category;return a.getCategoryByName(e)||g[0]}),t=E(b.value),c=i(()=>t.value.id),m=i(()=>t.value.nameEng);_();function p(){return t.value==null?[]:s.filter(e=>e.productCategoryId==c.value)}function _(){const e=t.value.localizedName();f({title:`lioi | ${e}`,meta:[{name:"description",content:d("home.hero.body")}]}),v({ogTitle:`lioi | ${e}`,ogUrl:"https://lioi.ee",ogType:"website",ogDescription:d("home.hero.body"),ogImage:"/img/contact-1.jpg"})}return V(()=>{_()}),k(()=>t.value,async()=>{var e,o;r.currentRoute.value.params.category!=m.value&&(await r.replace({params:{category:m.value}}),v({ogTitle:`lioi | ${(e=a.getCategoryById(c.value))==null?void 0:e.localizedName()}`}),f({title:`lioi | ${(o=a.getCategoryById(c.value))==null?void 0:o.localizedName()}`}))}),(e,o)=>{var y;const x=P,I=T;return u(),l("div",null,[C("div",F,[C("div",G,[(y=p())!=null&&y.length?(u(!0),l(R,{key:0},j(p(),n=>(u(),l("div",{class:"col-6 col-lg-4 col-xxl-3",key:n.id,id:`product-${n.id}`},[h(I,null,{default:S(()=>[h(x,{product:n},null,8,["product"])]),_:2},1024)],8,H))),128)):z("",!0)])])])}}});export{q as default};
