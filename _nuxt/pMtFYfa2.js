import{_ as I}from"./BMfV8gGx.js";import{d as P,M as $,u as w,A as n,r as B,e as y,f,l as E,K as V,c as i,a as v,y as k,F as R,v as z,o as l,g as C,w as A,h as M}from"./BKfao8Zc.js";import{p as o}from"./cUih4tss.js";import{p as S}from"./N8Njx1eh.js";const T={class:"container-fluid section-mb"},j={class:"row g-2 justify-content-center"},F=["id"],O=P({__name:"products",setup(D){const a=$(),{t:u}=w(),r=S.getAllVisibleProducts(),d=o.getAllVisibleCategories().filter(e=>r.some(_=>_.productCategoryId==e.id)),h=[];for(const e of r)e.isGiftCard()||e.id>=80&&e.id<90||h.push(`/shop/${e.nameEng}`);d.map(e=>`/shop/category/${e.nameEng}`);const N=n(()=>{const e=a.currentRoute.value.params.category;return o.getCategoryByName(e)||d[0]}),t=B(N.value),s=n(()=>t.value.id),g=n(()=>t.value.nameEng);p();function m(){return t.value==null?[]:r.filter(e=>e.productCategoryId==s.value)}function p(){const e=t.value.localizedName();y({title:`lioi | ${e}`,meta:[{name:"description",content:u("home.hero.body")}]}),f({ogTitle:`lioi | ${e}`,ogUrl:"https://lioi.ee",ogType:"website",ogDescription:u("home.hero.body"),ogImage:"/img/contact-1.jpg"})}return E(()=>{p()}),V(()=>t.value,async()=>{a.currentRoute.value.params.category!=g.value&&(await a.replace({params:{category:g.value}}),f({ogTitle:`lioi | ${o.getCategoryById(s.value)?.localizedName()}`}),y({title:`lioi | ${o.getCategoryById(s.value)?.localizedName()}`}))}),(e,_)=>{const b=I,x=M;return l(),i("div",null,[v("div",T,[v("div",j,[m()?.length?(l(!0),i(R,{key:0},z(m(),c=>(l(),i("div",{class:"col-6 col-lg-4 col-xxl-3",key:c.id,id:`product-${c.id}`},[C(x,null,{default:A(()=>[C(b,{product:c},null,8,["product"])]),_:2},1024)],8,F))),128)):k("",!0)])])])}}});export{O as default};
